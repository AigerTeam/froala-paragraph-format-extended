/**
 * Froala Editor Paragraph Format Extended plugin v0.0.1
 * (https://github.com/FinesseRus/froala-editor-paragraph-format-extended-plugin) Copyright 2016-2018 Surgie Finesse
 * Licensed under the MIT license
 */
!function(){"use strict";var t,e,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t=void 0,e=function(t){t=t&&t.hasOwnProperty("default")?t.default:t;var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};function a(t){var e="";return t.tag&&(e+=t.tag.toLowerCase()),t.id&&(e+="#"+t.id),t.class&&(e+=(t.class instanceof Array?t.class:String(t.class).split(/\s+/)).filter(function(t){return t}).sort().map(function(t){return"."+t}).join("")),e}t.FroalaEditor.DEFAULTS=e({},t.FroalaEditor.DEFAULTS,{paragraphFormatExtended:[{title:"Normal"},{tag:"h1",title:"Heading 1"},{tag:"h2",title:"Heading 2"},{tag:"h3",title:"Heading 3"},{tag:"h4",title:"Heading 4"},{tag:"h4",class:"fr-text-bordered",title:"Header 4 bordered"},{tag:"pre",title:"Code"}],paragraphFormatExtendedSelection:!1}),t.FroalaEditor.PLUGINS.paragraphFormatExtended=function(r){function n(t){var n=r.html.defaultTag(),o=void 0;t instanceof HTMLElement?(o={tag:t.tagName.toLowerCase(),id:t.getAttribute("id"),class:t.getAttribute("class")},-1!==["li","td","th"].indexOf(o.tag)&&(o.tag=n)):o={tag:n};var i=[o];return o.tag===n&&i.push(e({},o,{tag:null})),i.map(a)}function o(e,a,n){if(!(a&&a.toLowerCase()!==r.html.defaultTag()||n))return e;var o=void 0;if(e.find("ul, ol").length>0){o=t("<"+a+">"),e.prepend(o);for(var i=r.node.contents(e[0])[0];i&&-1===["ul","ol"].indexOf(i.tagName.toLowerCase());){var l=i.nextSibling;o.append(i),i=l}}else o=t("<"+a+">").html(e.html()),e.html(o);return o}function i(t,e,a){return e.toLowerCase()!==r.html.defaultTag()||a?d(t,e):(t.replaceWith(t.html()),null)}function l(t,e,a){return e.toLowerCase()!==r.html.defaultTag()||a?d(t,e):(r.node.isEmpty(t[0],!0)||t.append("<br/>"),t.replaceWith(t.html()),null)}function d(e,a){a||(a='div class="fr-temp-div"'+(r.node.isEmpty(e[0],!0)?' data-empty="true"':""));var n=t("<"+a+" "+r.node.attributes(e[0])+">").html(e.html());return e.replaceWith(n),n}return{apply:function(e){var a,n=(a=/([^\.#]*)(#[^\.]+|.{0})(\.[\s\S]+|.{0})/.exec(e))?{tag:a[1].toLowerCase()||null,id:a[2].slice(1)||null,class:a[3].split(".").filter(function(t){return t}).join(" ")||null}:{},s=n.tag||r.html.defaultTag(),p=n.class||n.id;r.selection.save(),r.html.wrap(!0,!0,!0,!0),r.selection.restore();var u=t(r.selection.blocks()),f=u;r.selection.save(),r.$el.find("pre").attr("skip",!0),u.each(function(e,a){if(!r.node.isList(a)){var u=t(a);if(!u.find(f).length){var c=(u.is("li")?o:u.parent().is("li")?i:u.parent().is("td, th")?l:d)(u,s,p);c&&(c.attr({class:n.class||null,id:n.id||null}),f=f.add(c))}}}),r.$el.find('pre:not([skip="true"]) + pre:not([skip="true"])').each(function(e,a){var r=t(a);r.prev().append("<br>"+r.html()),r.remove()}),r.$el.find("pre").removeAttr("skip"),r.html.unwrap(),r.selection.restore()},refreshButton:function(t){if(r.opts.paragraphFormatExtendedSelection){for(var e=n(r.selection.blocks()[0]),o=r.opts.paragraphFormatExtended,i="â€”",l=0;l<o.length;++l)if(-1!==e.indexOf(a(o[l]))){i=r.language.translate(o[l].title);break}t.find("> span").text(i)}},refreshDropdown:function(t){var e=n(r.selection.blocks()[0]).map(function(t){return'.fr-command[data-param1="'+t+'"]'}).join(", ");t.find(e).addClass("fr-active")}}},t.FroalaEditor.DefineIcon("paragraphFormatExtended",{NAME:"paragraph"}),t.FroalaEditor.RegisterCommand("paragraphFormatExtended",{type:"dropdown",title:"Paragraph Format",plugin:"paragraphFormatExtended",displaySelection:function(t){return t.opts.paragraphFormatExtendedSelection},defaultSelection:"Format",displaySelectionWidth:100,html:function(){var t=this;return'<ul class="fr-dropdown-list">'+this.opts.paragraphFormatExtended.map(function(e){var r=t.language.translate(e.title),n=e.tag||t.html.defaultTag(),o=a(e);return"<li><"+n+(e.class?' class="'+e.class+'"':"")+' style="padding: 0 !important; margin: 0 !important;"><a class="fr-command" data-cmd="paragraphFormatExtended" data-param1="'+o+'" title="'+r+'">'+r+"</a></"+n+"></li>"}).join("\n")+"</ul>"},callback:function(t,e){this.paragraphFormatExtended.apply(e)},refresh:function(t){this.paragraphFormatExtended.refreshButton(t)},refreshOnShow:function(t,e){this.paragraphFormatExtended.refreshDropdown(e)}})},"object"===("undefined"==typeof exports?"undefined":a(exports))&&"undefined"!=typeof module?e(require("jquery"),require("froala-editor")):"function"==typeof define&&define.amd?define(["jquery","froala-editor"],e):e(t.jQuery)}();